{
  "components": [
    {
      "plugin": "Plugin/BtConfig",
      "params": {
        "config": {
          "state": {
            "stunStateKey": "IsStunned",
            "knockbackKey": "WasKnockedBack",
            "lastUsedKey": "LastSkillUsed"
          },
          "cooldowns": {
            "dash": 5.0,
            "smash": 8.0,
            "teleport": 12.0,
            "taunt": 10.0
          },
          "fx": {
            "dash": { "vfx": "SmokeTrail", "sfx": "BurstDash", "anim": "ForwardRush" },
            "smash": { "vfx": "QuakeShockwave", "sfx": "Smash", "anim": "GroundPound" },
            "teleport": { "vfx": "VoidStep", "sfx": "Blink", "anim": "Vanish" }
          },
          "text": {
            "taunt": [
              "You're just spamming now.",
              "Did your fingers get stuck?",
              "Nice... stun again? Real original."
            ],
            "onStun": [
              "Waitâ€”what was that?!",
              "I... *felt* that.",
              "System... destabilizing..."
            ]
          },
          "behavior": {
            "look": {
              "target": "Player",
              "rotateSpeed": 100
            },
            "dash": {
              "direction": "forward",
              "magnitude": 25,
              "duration": 0.25,
              "cooldownKey": "dash"
            },
            "smash": {
              "magnitude": 40,
              "duration": 1.5,
              "cooldownKey": "smash"
            },
            "teleport": {
              "duration": 2.5,
              "childNode": {
                "type": "Bt/Teleport",
                "config": {
                  "castTime": 1.5,
                  "destination": { "source": "BehindTarget", "distance": 5.5 }
                }
              },
              "cooldownKey": "teleport"
            },
            "taunt": {
              "lines": { "$ref": "text.taunt" },
              "sfx": "GPT_Taunt",
              "cooldownKey": "taunt"
            },
            "onStun": {
              "sequence": [
                {
                  "type": "Bt/PlayTaunt",
                  "config": {
                    "lines": { "$ref": "text.onStun" },
                    "sfx": "StaggeredGasp"
                  }
                },
                {
                  "type": "Bt/SetValue",
                  "config": { "key": "Phase", "value": 2 }
                }
              ]
            },
            "punishCombo": {
              "sequence": [
                { "type": "Bt/TimedExecute", "config": { "$ref": "behavior.teleport" } },
                { "type": "Bt/Impulse", "config": { "$ref": "behavior.dash" } },
                { "type": "Bt/Impulse", "config": { "$ref": "behavior.smash" } }
              ]
            }
          }
        }
      }
    }
  ],
  "btTree": {
    "type": "Bt/Selector",
    "children": [
      {
        "type": "Bt/Sequence",
        "children": [
          { "type": "Bt/Condition/BlackboardTrue", "config": { "key": "IsStunned" } },
          { "type": "Bt/RunCombo", "config": { "$ref": "behavior.onStun" } }
        ]
      },
      {
        "type": "Bt/Sequence",
        "children": [
          {
            "type": "Bt/Condition/PlayerRepeatingPattern",
            "config": { "key": "skillAbuse", "repeatThreshold": 3 }
          },
          { "type": "Bt/RunCombo", "config": { "$ref": "behavior.punishCombo" } },
          { "type": "Bt/PlayTaunt", "config": { "$ref": "behavior.taunt" } }
        ]
      },
      {
        "type": "Bt/Sequence",
        "children": [
          { "type": "Bt/CooldownCheck", "config": { "key": "smash" } },
          { "type": "Bt/Impulse", "config": { "$ref": "behavior.smash" } }
        ]
      },
      {
        "type": "Bt/Sequence",
        "children": [
          { "type": "Bt/CooldownCheck", "config": { "key": "dash" } },
          { "type": "Bt/Impulse", "config": { "$ref": "behavior.dash" } }
        ]
      },
      {
        "type": "Bt/Sequence",
        "children": [
          { "type": "Bt/CooldownCheck", "config": { "key": "teleport" } },
          { "type": "Bt/TimedExecute", "config": { "$ref": "behavior.teleport" } }
        ]
      },
      {
        "type": "Bt/Sequence",
        "children": [
          { "type": "Bt/CooldownCheck", "config": { "key": "taunt" } },
          { "type": "Bt/PlayTaunt", "config": { "$ref": "behavior.taunt" } }
        ]
      },
      { "type": "Bt/Pause", "config": { "duration": 1.0 } }
    ]
  }
}
